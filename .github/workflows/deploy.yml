name: "github actions build and deploy gh-pages" #流程名称
on: [push] #当对当前仓库push代码的时候触发
permissions:
  contents: write
jobs: 
  build-and-deploy: #脚本名称
    runs-on: ubuntu-latest #运行在乌班图linux上
    permissions: {}
    steps:
      - name: Checkout  #步骤1：checkout
        uses: actions/checkout@v2.3.1 #checkout需要引用的依赖
        with:
          persist-credentials: false #checkout依赖参数：不保存证书
      - name: install and build #步骤2：安装依赖和打包
        run: | #运行下面两行命令
          npm install #安装依赖，当前分支的根目录做为默认目录
          npm run build #打包代码
      - name: Deploy #步骤3：把编译好的静态目录上传到gh-pages分支上
        env:
          token: ${{ secrets.TOKEN }}
          token2: ${{ secrets.SECRET_TOKEN }}
        run: |
          echo "Deploying to production..."
          echo "${{ secrets.TOKEN }}"
          echo "${{ secrets.SECRET_TOKEN }}”
          echo "${{ TOKEN }}"
          echo "${{ SECRET_TOKEN }}"
          # 在此处使用MY_SECRET环境变量的值
